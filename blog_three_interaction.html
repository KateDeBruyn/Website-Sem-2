<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatiable" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A blog that relfects on the User Interface and Experience design methods used for this website."
    />
    <meta name="author" content="Keighty Rose, Kate de Bruyn" />
    <meta name="keywords" content="game design, developer, streamer, blog" />
    <title>Data-Driven Art Reflection by KeightyRose</title>
    <link rel="stylesheet" href="normalise.css" />
    <link rel="stylesheet" href="stylesheet_piechart.css" />
    <script
      src="https://kit.fontawesome.com/a7ac100429.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
  </head>

  <body>
    <header>
      <nav>
        <input type="checkbox" id="check" />
        <label for="check" class="menu-bars"
          ><i class="fa-solid fa-bars"></i
        ></label>
        <label for="logo" id="logo">keightyrose</label>
        <ul>
          <li><a id="nav-button" href="index.html">Home</a></li>
          <li><a id="nav-button-blog" href="blog.html">Blog</a></li>
          <li>
            <a id="nav-button" href="datavisualisation.html">Data V</a>
          </li>
          <li><a id="nav-button" href="dataart.html">Data Art</a></li>
          <li>
            <a id="nav-button" href="styleguide.html">Style Guide</a>
          </li>
        </ul>
      </nav>
    </header>

    <main>
      <article>
        <h1 class="heading-one">Data-Driven Art Reflection</h1>
        <p class="blog-paragraph">
          Interaction in data visualisation has become an area of study in its
          own right that draws from the field of human-computer interaction
          (HCI). It is important to define and understand interaction as it
          plays a key role in visualisation design practices and enabled
          flexibility in visualisation design tools. Interaction is defined
          differently and mostly broad in both the visualisation research
          community and the HCI community. Furthermore, interaction's definition
          can be separated from interactivity, as well as interaction technique
          and the science of interaction (Dimara and Perin, 2020, p. 5) The two
          communities, visualisation research and HCI, are where Dimara and
          Perin draw their argument from in order to form an inclusive
          definition for what interaction can be understood as. In the
          interactive pie chart below are some summarising points to the
          concepts Dimara and Perin base their research on.
        </p>
      </article>
      <div id="button-container">
        <button class="randomize">Definitions</button>
      </div>
      <div id="piechart-container">
        <!--D3 Interactive Graph-->
        <script>
          var svg = d3.select("body").append("svg").append("g");

          svg.append("g").attr("class", "slices");
          svg.append("g").attr("class", "labels");
          svg.append("g").attr("class", "lines");

          var width = 960,
            height = 450,
            radius = Math.min(width, height) / 2;

          var pie = d3.layout
            .pie()
            .sort(null)
            .value(function (d) {
              return d.value;
            });

          var arc = d3.svg
            .arc()
            .outerRadius(radius * 0.8)
            .innerRadius(radius * 0.4);

          var outerArc = d3.svg
            .arc()
            .innerRadius(radius * 0.9)
            .outerRadius(radius * 0.9);

          svg.attr(
            "transform",
            "translate(" + width / 2 + "," + height / 2 + ")"
          );

          var key = function (d) {
            return d.data.label;
          };

          var color = d3.scale
            .ordinal()
            .domain([
              "A causal relationship",
              "Operationalises flexibility",
              "User and system dialogue",
              "A mediating entity",
              "Action with start, end, response",
              "Human intent",
              "Amplifies cognition",
              "Cycle of communication acts",
              "Transmission of information",
            ])
            .range([
              "#98abc5",
              "#8a89a6",
              "#7b6888",
              "#6b486b",
              "#a05d56",
              "#d0743c",
              "#ff8c00",
            ]);

          function randomData() {
            var labels = color.domain();
            return labels.map(function (label) {
              return { label: label, value: Math.random() };
            });
          }

          change(randomData());

          d3.select(".randomize").on("click", function () {
            change(randomData());
          });

          function change(data) {
            /* ------- PIE SLICES -------*/
            var slice = svg
              .select(".slices")
              .selectAll("path.slice")
              .data(pie(data), key);

            slice
              .enter()
              .insert("path")
              .style("fill", function (d) {
                return color(d.data.label);
              })
              .attr("class", "slice");

            slice
              .transition()
              .duration(1000)
              .attrTween("d", function (d) {
                this._current = this._current || d;
                var interpolate = d3.interpolate(this._current, d);
                this._current = interpolate(0);
                return function (t) {
                  return arc(interpolate(t));
                };
              });

            slice.exit().remove();

            /* ------- TEXT LABELS -------*/

            var text = svg
              .select(".labels")
              .selectAll("text")
              .data(pie(data), key);

            text
              .enter()
              .append("text")
              .attr("dy", ".35em")
              .text(function (d) {
                return d.data.label;
              });

            function midAngle(d) {
              return d.startAngle + (d.endAngle - d.startAngle) / 2;
            }

            text
              .transition()
              .duration(1000)
              .attrTween("transform", function (d) {
                this._current = this._current || d;
                var interpolate = d3.interpolate(this._current, d);
                this._current = interpolate(0);
                return function (t) {
                  var d2 = interpolate(t);
                  var pos = outerArc.centroid(d2);
                  pos[0] = radius * (midAngle(d2) < Math.PI ? 1 : -1);
                  return "translate(" + pos + ")";
                };
              })
              .styleTween("text-anchor", function (d) {
                this._current = this._current || d;
                var interpolate = d3.interpolate(this._current, d);
                this._current = interpolate(0);
                return function (t) {
                  var d2 = interpolate(t);
                  return midAngle(d2) < Math.PI ? "start" : "end";
                };
              });

            text.exit().remove();

            /* ------- SLICE TO TEXT POLYLINES -------*/

            var polyline = svg
              .select(".lines")
              .selectAll("polyline")
              .data(pie(data), key);

            polyline.enter().append("polyline");

            polyline
              .transition()
              .duration(1000)
              .attrTween("points", function (d) {
                this._current = this._current || d;
                var interpolate = d3.interpolate(this._current, d);
                this._current = interpolate(0);
                return function (t) {
                  var d2 = interpolate(t);
                  var pos = outerArc.centroid(d2);
                  pos[0] = radius * 0.95 * (midAngle(d2) < Math.PI ? 1 : -1);
                  return [arc.centroid(d2), outerArc.centroid(d2), pos];
                };
              });

            polyline.exit().remove();
          }
        </script>
      </div>
    </main>
  </body>
</html>
