<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatiable" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Description goes here" />
    <meta name="author" content="Keighty Rose, Kate de Bruyn" />
    <meta name="keywords" content="game design, developer, streamer, blog" />
    <title>Visualisations by KeightyRose</title>
    <link rel="stylesheet" href="normalise.css" />
    <link rel="stylesheet" href="stylesheet.css" />
    <script
      src="https://kit.fontawesome.com/a7ac100429.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="javascript.js"></script>
  </head>

  <body>
    <header>
      <nav>
        <input type="checkbox" id="check" />
        <label for="check" class="menu-bars"
          ><i class="fa-solid fa-bars"></i
        ></label>
        <label for="logo" id="logo">keightyrose</label>
        <ul>
          <li><a id="nav-button" href="index.html">Home</a></li>
          <li><a id="nav-button" href="blog.html">Blog</a></li>
          <li>
            <a id="nav-button-data" href="datavisualisation.html">Data V</a>
          </li>
          <li><a id="nav-button" href="dataart.html">Data Art</a></li>
          <li>
            <a id="nav-button" href="styleguide.html">Style Guide</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="datav-container">
        <div class="index-item">
          <svg
            id="vizG1"
            width="600"
            height="400"
            transform="translate(10, 10)"
          ></svg>
          <script>
            

            d3.csv(href="jsontocsv.csv", function(data) {

            let widthG1 = 600;
            let heightG1 = 400;
            let marginG1 = { top: 50, bottom: 50, left: 50, right: 50 };

            let vizAreaG1 = d3.select("#vizG1");

            vizAreaG1
              .append("svg")
              .attr("height", heightG1 - marginG1.top - marginG1.bottom)
              .attr("width", widthG1 - marginG1.left - marginG1.right)
              .attr("viewBox", [0, 0, widthG1, heightG1]);

            let xScaleG1 = d3
              .scaleBand()
              .range([0, widthG1])
              .domain(
                dataG1.map(function (d) {
                  return d.title;
                })
              )
              .padding(0.1);

            let yScaleG1 = d3
              .scaleLinear()
              .domain([0, 10])
              .range([heightG1, marginG1.bottom - marginG1.top]);

            vizAreaG1
              .append("g")
              .attr("fill", "rgb(169, 112, 255)")
              .selectAll("rect")
              .data(
                dataG1.sort((a, b) => d3.descending(a.dealRating, b.dealRating))
              )
              .join("rect")
              .attr("x", (d, i) => xScaleG1(i))
              .attr("y", (d) => yScaleG1(d.dealRating))
              .attr("height", (d) => yScaleG1(0) - yScaleG1(d.dealRating))
              .attr("width", xScaleG1.bandwidth());

            function xAxisG1(g) {
              g.attr(
                "transform",
                `translate(0, ${heightG1 - marginG1.bottom + 50})` //${marginG1}, ${heightG1 + marginG1.top}
              )
                .call(
                  d3.axisBottom(xScaleG1).tickFormat(dataG1.title)
                )
                .attr("font-size", "15px");
            }

            function yAxisG1(g) {
              g.attr("transform", `translate(${marginG1.left}, 0)`)
                .call(d3.axisLeft(yScaleG1).ticks(null, dataG1.dealRating))
                .attr("font-size", "15px");
            }

            vizAreaG1.append("g").call(yAxisG1);
            vizAreaG1.append("g").call(xAxisG1);
            vizAreaG1.node();

            //Credits to Crypters Infotech (D3.js : Draw A Scatter Plot Using D3.js) for the guidance. Link: https://www.youtube.com/watch?v=SMcD3q3E5lI&t=626s

            }
          </script>
        </div>
        <div class="index-item">
          A static graph showing how many days out of a month that Twitch
          streamers were live.
        </div>
        <div class="index-item">
          <svg
            id="vizG2"
            width="600"
            height="400"
            transform="translate(10, 10)"
          ></svg>
          <script>
            const dataG2 = [
              { assignment: 1, score: 54 },
              { assignment: 2, score: 67 },
              { assignment: 3, score: 94 },
              { assignment: 4, score: 76 },
              { assignment: 5, score: 52 },
              { assignment: 6, score: 68 },
              { assignment: 7, score: 75 },
              { assignment: 8, score: 90 },
            ];

            let widthG2 = 550;
            let heightG2 = 400;
            let marginG2 = 50;

            let vizAreaG2 = d3.select("#vizG2");

            vizAreaG2
              .append("svg")
              .attr("height", heightG2 - marginG2.top - marginG2.bottom)
              .attr("width", widthG2 - marginG2.left - marginG2.right)
              .attr("viewBox", [0, 0, widthG2, heightG2])
              .attr("transform", `translate(${marginG2} , 10)`);

            let xScaleG2 = d3
              .scaleLinear()
              .domain([
                0,
                d3.max(dataG2, function (d) {
                  return d.assignment;
                }),
              ])
              .range([0, widthG2 - marginG2]);

            let yScaleG2 = d3
              .scaleLinear()
              .domain([0, 100])
              .range([heightG2 - marginG2, 0]);

            let xAxis = d3.axisBottom(xScaleG2);
            let yAxis = d3.axisLeft(yScaleG2);

            vizAreaG2
              .append("text")
              .attr("class", "x label")
              .attr("text-anchor", "end")
              .attr("x", widthG2)
              .attr("y", heightG2 - 6)
              .attr("fill", "white")
              .text("Assignments");

            vizAreaG2
              .append("text")
              .attr("class", "y label")
              .attr("text-anchor", "end")
              .attr("y", 6)
              .attr("dy", ".75em")
              .attr("transform", "rotate(-90)")
              .attr("fill", "white")
              .text("Marks as percentages");

            vizAreaG2
              .append("g")
              .attr("transform", `translate(50, 350)`)
              .call(xAxis);
            vizAreaG2
              .append("g")
              .attr("transform", `translate(50, 0)`)
              .call(yAxis);

            let dots = vizAreaG2.append("g").selectAll("dot").data(dataG2);

            dots
              .enter()
              .append("circle")
              .attr("cx", function (d) {
                return xScaleG2(d.assignment);
              })
              .attr("cy", function (d) {
                return yScaleG2(d.score);
              })
              .attr("r", 8)
              .attr("transform", `translate(50, 0)`)
              .style("fill", "rgb(169, 112, 255)");

            //Credits to Crypters Infotech (D3.js : Draw A Scatter Plot Using D3.js) for the guidance. Link: https://www.youtube.com/watch?v=SMcD3q3E5lI&t=626s
          </script>
        </div>
        <div class="index-item">
          A static scatter plot showing a student's marks across eight
          assignments.
        </div>
        <div>
          <button onclick="update(data1)">Variable 1</button>
          <button onclick="update(data2)">Variable 2</button>
          <div id="interactive_G3"></div>
        </div>
      </div>
    </main>
  </body>
</html>
